<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <a href="" id="a">click here to download your file</a>
    <button onclick="downLoadDataToLoc()">Create file</button>
</body>

<script>
function download(text, name, type) {
var a = document.getElementById("a");
var file = new Blob([text], {type: type});
a.href = URL.createObjectURL(file);
a.download = name;
a.dispatchEvent(new MouseEvent('click', {'bubbles': false, 'cancelable': true}));
}
let arr = [1,2,3,4]
function downLoadDataToLoc() {
        var blob = new Blob(arr, {type: 'text/plain'})
        // 创建一个blob的对象，把Json转化为字符串作为我们的值
        if("msSaveOrOpenBlob" in navigator){
            // 这个判断要不要都行，如果是IE浏览器，使用的是这个，
            window.navigator.msSaveOrOpenBlob(blob, "results.txt");
        } else {    // 不是IE浏览器使用的下面的
            var url = window.URL.createObjectURL(blob)
            // 上面这个是创建一个blob的对象连链接，
            var link = document.createElement('a')
            // 创建一个链接元素，是属于 a 标签的链接元素，所以括号里才是a，
 
            link.href = url;    
            // 把上面获得的blob的对象链接赋值给新创建的这个 a 链接
            link.setAttribute('download', "results.txt")
            // 设置下载的属性（所以使用的是download），这个是a 标签的一个属性
            // 后面的是文件名字，可以更改
            link.click();
            // 使用js点击这个链接
        }
    }
</script>
</html>